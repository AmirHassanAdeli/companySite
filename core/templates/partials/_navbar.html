{% load i18n %}

<nav class="navbar navbar-expand-lg fixed-top">
    <div class="container">

        <!-- Brand -->
        <a class="navbar-brand" href="{% url 'core:index' %}">
            <i class="fas fa-robot me-2"></i>
            {% trans "IntelRain" %}
        </a>

        <!-- Mobile Toggle -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">

            <ul class="navbar-nav ms-auto">

                <!-- Navigation Links -->
                <li class="nav-item"><a class="nav-link" href="{% url 'core:index' %}">{% trans "Ø®Ø§Ù†Ù‡" %}</a></li>
                <li class="nav-item"><a class="nav-link" href="#services">{% trans "Ø®Ø¯Ù…Ø§Øª" %}</a></li>
                <li class="nav-item"><a class="nav-link" href="#portfolio">{% trans "Ù†Ù…ÙˆÙ†Ù‡ Ú©Ø§Ø±Ù‡Ø§" %}</a></li>
                <li class="nav-item"><a class="nav-link" href="#contact">{% trans "ØªÙ…Ø§Ø³" %}</a></li>

                <!-- Language Switcher -->
                <li class="nav-item dropdown ms-3">

                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                        {% get_current_language as LANG %}
                        {% if LANG == "fa" %}
                            ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ
                        {% else %}
                            ğŸ‡¬ğŸ‡§ English
                        {% endif %}
                    </a>

                    <ul class="dropdown-menu">

                        <!-- Switch to Persian -->
                        <li>
                            <form action="{% url 'set_language' %}" method="post" class="dropdown-item">
                                {% csrf_token %}
                                <input type="hidden" name="next" value="{{ request.path }}">
                                <input type="hidden" name="language" value="fa">
                                <button type="submit" class="btn p-0 w-100 text-start">
                                    ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ
                                </button>
                            </form>
                        </li>

                        <!-- Switch to English -->
                        <li>
                            <form action="{% url 'set_language' %}" method="post" class="dropdown-item">
                                {% csrf_token %}
                                <input type="hidden" name="next" value="{{ request.path }}">
                                <input type="hidden" name="language" value="en">
                                <button type="submit" class="btn p-0 w-100 text-start">
                                    ğŸ‡¬ğŸ‡§ English
                                </button>
                            </form>
                        </li>

                    </ul>

                </li>

            </ul>

        </div>

    </div>
</nav>
